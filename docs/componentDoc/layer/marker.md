# 海量点图层

## 坐标点集合 points

&#12288;&#12288;使用热力图组件必须放在地图组件“容器”中，也就是说必须放在 `<GisCore></GisCore>` 组件中才可以，如下为一个基础示例。给该组件传入 `points` 即可以进行聚合功能。

&#12288;&#12288;注意坐标点集合应为如下格式：

```javascript
[
  {"lnglat":[116.258446,37.686622]},
  {"lnglat":[113.559954,22.124049]},
  {"lnglat":[116.366794,39.915309]}
  ... 
  {"lnglat":[117.366794,36.915309]}
]
```
::: demo
```html
<template>
  <div>
    <ClientOnly>
      <mc-gis :mWidth="700" :mHeight="400">
          <mc-marker :points="citys"/>
      </mc-gis>
    </ClientOnly>
  </div>
</template>

<script>
export default {
  name: 'App',
  data(){
    return{
        citys:[{"lnglat":[116.258446,37.686622],},{"lnglat":[113.559954,22.124049],},{"lnglat":[117.366794,40.915309],},{"lnglat":[115.486409,38.921489],},{"lnglat":[114.286968,36.863642],},{"lnglat":[116.195445,39.914601],},{"lnglat":[114.310316,39.956074],},{"lnglat":[116.105381,39.937183],},{"lnglat":[113.139157,35.735535],},{"lnglat":[114.658603,39.902486],},{"lnglat":[112.653525,40.128936],},{"lnglat":[111.235906,34.218085],},{"lnglat":[107.338033,39.728908],},{"lnglat":[103.637122,34.324272],},{"lnglat":[117.112335,40.144783],},{"lnglat":[109.843352,31.377362],},{"lnglat":[115.985006,40.465325],},{"lnglat":[104.56925,22.136546],},{"lnglat":[105.195907,32.118327],},{"lnglat":[101.226568,39.122125],},{"lnglat":[106.217536,33.101897],},{"lnglat":[117.164143,39.120474],},{"lnglat":[117.201569,39.156632],},{"lnglat":[117.163301,39.175066],},{"lnglat":[117.313967,39.087764],},{"lnglat":[117.012247,39.139446],},{"lnglat":[117.382549,38.989577],},{"lnglat":[117.13482,39.225555],},{"lnglat":[117.057959,39.376925],},{"lnglat":[117.308094,39.716965],},{"lnglat":[117.654173,39.032846],},{"lnglat":[117.82828,39.328886],},{"lnglat":[116.925304,38.935671],},{"lnglat":[117.407449,40.045342],},{"lnglat":[113.558783,22.154124],},{"lnglat":[114.548151,38.047501],},{"lnglat":[114.462931,38.028383],},{"lnglat":[114.465974,38.067142],},{"lnglat":[114.058178,38.069748],},{"lnglat":[114.533257,38.027696],},{"lnglat":[114.849647,38.033767],},{"lnglat":[114.321023,38.093994],},{"lnglat":[114.654281,37.886911],},{"lnglat":[114.144488,38.033614],},{"lnglat":[114.569887,38.147835],},{"lnglat":[114.552734,38.437422],},{"lnglat":[114.37946,38.306546],},{"lnglat":[114.610699,37.605714],},{"lnglat":[115.200207,38.18454],},{"lnglat":[114.387756,37.660199],},{"lnglat":[114.977845,38.176376],},{"lnglat":[114.184144,38.259311],},{"lnglat":[114.52618,37.762514],},{"lnglat":[114.775362,37.754341],},{"lnglat":[115.217451,37.92904],},{"lnglat":[115.044886,38.027478],},{"lnglat":[114.68578,38.344768],},{"lnglat":[113.54167,22.187778],},{"lnglat":[118.210821,39.615162],},{"lnglat":[118.174736,39.628538],},{"lnglat":[118.45429,39.715736],},{"lnglat":[118.264425,39.676171],},{"lnglat":[118.110793,39.56303],},{"lnglat":[118.155779,39.831363],},{"lnglat":[118.446585,39.278277],},{"lnglat":[118.699547,39.744851],},{"lnglat":[118.681552,39.506201],},{"lnglat":[118.905341,39.42813],},{"lnglat":[118.305139,40.146238],},{"lnglat":[117.753665,39.887323],},{"lnglat":[117.965875,40.188616],},{"lnglat":[118.701933,40.012108],},{"lnglat":[113.55374,22.188119],},{"lnglat":[119.596224,39.943458],},{"lnglat":[119.753591,39.998023],},{"lnglat":[119.486286,39.825121],},{"lnglat":[118.954555,40.406023],},{"lnglat":[119.164541,39.709729],},{"lnglat":[119.240651,39.887053],},{"lnglat":[110.881809,39.891639],},{"lnglat":[113.550252,22.193791],},{"lnglat":[114.484989,36.603196],},{"lnglat":[114.494703,36.611082],},{"lnglat":[114.458242,36.615484],},{"lnglat":[104.209936,36.420487],},{"lnglat":[114.610703,36.337604],},{"lnglat":[114.680356,36.443832],},{"lnglat":[115.152586,36.283316],},{"lnglat":[113.673297,36.563143],},{"lnglat":[100.38208,36.367673],},{"lnglat":[107.805154,36.555778],},{"lnglat":[114.496162,36.776413],},{"lnglat":[101.168584,36.81325],},{"lnglat":[101.878517,36.914908],},{"lnglat":[114.950859,36.483603],},{"lnglat":[115.289057,36.539461],},{"lnglat":[114.93411,36.354248],},{"lnglat":[114.957588,36.773398],},{"lnglat":[114.194581,36.696115],},{"lnglat":[113.549052,22.199175],},{"lnglat":[114.507131,37.064125],},{"lnglat":[114.473687,37.068009],},{"lnglat":[114.561132,37.05073],},{"lnglat":[114.506873,37.444009],},{"lnglat":[114.511523,37.287663],},{"lnglat":[114.693382,37.483596],},{"lnglat":[114.776348,37.350925],},{"lnglat":[114.684469,37.129952],},{"lnglat":[114.691377,37.003812],},{"lnglat":[114.921027,37.618956],},{"lnglat":[115.038782,37.21768],},{"lnglat":[115.247537,37.526216],},{"lnglat":[115.142797,37.075548],},{"lnglat":[115.029218,37.069404],},{"lnglat":[115.272749,36.983272],},{"lnglat":[115.668999,37.059991],},{"lnglat":[115.498684,36.8642],},{"lnglat":[115.398102,37.359668],},{"lnglat":[114.504902,36.861903],},{"lnglat":[113.552965,22.207882],},{"lnglat":[115.470659,38.88662],},{"lnglat":[115.500934,38.865005],},{"lnglat":[115.32442,38.95138],},{"lnglat":[115.492221,38.771012],},{"lnglat":[115.711985,39.393148],},{"lnglat":[114.198801,38.847276],},{"lnglat":[115.64941,39.020395],},{"lnglat":[115.796895,39.266195],},{"lnglat":[114.981241,38.748542],},{"lnglat":[115.778878,38.690092],},{"lnglat":[115.866247,39.05282],},{"lnglat":[114.692567,39.35755],},{"lnglat":[115.154009,38.707448],},{"lnglat":[115.931979,38.929912],},{"lnglat":[115.501146,39.35297],},{"lnglat":[114.704055,38.619992],},{"lnglat":[115.583631,38.496429],},{"lnglat":[115.132749,38.845127],},{"lnglat":[115.461798,38.458271],},{"lnglat":[116.107474,38.990819],},{"lnglat":[115.973409,39.485765],},{"lnglat":[114.991389,38.517602],},{"lnglat":[115.33141,38.421367],},{"lnglat":[115.882704,39.327689],},{"lnglat":[113.946059,22.286371],},{"lnglat":[114.885658,40.813875],},{"lnglat":[114.882127,40.824385],},{"lnglat":[115.0632,40.609368],},{"lnglat":[115.281002,40.488645],},{"lnglat":[114.715951,41.151713],},{"lnglat":[114.615809,41.850046],},{"lnglat":[115.684836,41.667419],},{"lnglat":[113.977713,41.080091],},{"lnglat":[114.582695,39.837181],},{"lnglat":[114.167343,40.113419],},{"lnglat":[114.422364,40.671274],},{"lnglat":[114.736131,40.765136],},{"lnglat":[115.520846,40.405405],},{"lnglat":[115.219246,40.378701],},{"lnglat":[115.832708,40.912081],},{"lnglat":[115.281652,40.971302],},{"lnglat":[114.13918,22.363908],},{"lnglat":[117.939152,40.976204],},{"lnglat":[117.797485,40.959756],}]
    }
  },
}
</script>
```
:::

## 坐标点图标 icon

&#12288;&#12288;与 [`<mc-point/>`组件的icon属性作用和用法相同。](/componentDoc/point.html#图标-icon)


## 图标宽高 iconWidth & iconHeight

&#12288;&#12288;该属性与 [`<mc-point/>`组件的iconWidth & iconHeight属性作用和用法相同。](/componentDoc/point.html#图标宽高-iconwidth-iconheight)


## 点击事件 @point-click

&#12288;&#12288;在该组件的调用处使用`@point-click`方法可以捕获坐标点的数据信息和点击事件。返回的数据对象有两个属性：`event`即点击的事件对象以及`pointData`即点相关的数据。

&#12288;&#12288;对于`pointData`的值为一开始对`points`传入每个点对象的属性集合。

&#12288;&#12288; **你可以打开浏览器控制台并点击点查看。**
::: demo
```html
<template>
  <div>
    <ClientOnly>
      <mc-gis :mWidth="700" :mHeight="400">
          <mc-marker :points="citys" @click-point="getPointData"/>
      </mc-gis>
    </ClientOnly>
  </div>
</template>

<script>
export default {
  name: 'App',
  data(){
    return{
        citys:[{"lnglat":[116.258446,37.686622],"name":"景县","style":2},{"lnglat":[113.559954,22.124049],"name":"圣方济各堂区","style":2},{"lnglat":[116.366794,39.915309],"name":"西城区","style":2},{"lnglat":[116.486409,39.921489],"name":"朝阳区","style":2},{"lnglat":[116.286968,39.863642],"name":"丰台区","style":2},{"lnglat":[116.195445,39.914601],"name":"石景山区","style":2},{"lnglat":[116.310316,39.956074],"name":"海淀区","style":2},{"lnglat":[116.105381,39.937183],"name":"门头沟区","style":2},{"lnglat":[116.139157,39.735535],"name":"房山区","style":2},{"lnglat":[116.658603,39.902486],"name":"通州区","style":2},{"lnglat":[116.653525,40.128936],"name":"顺义区","style":2},{"lnglat":[116.235906,40.218085],"name":"昌平区","style":2},{"lnglat":[116.338033,39.728908],"name":"大兴区","style":2},{"lnglat":[116.637122,40.324272],"name":"怀柔区","style":2},{"lnglat":[117.112335,40.144783],"name":"平谷区","style":2},{"lnglat":[116.843352,40.377362],"name":"密云区","style":2},{"lnglat":[115.985006,40.465325],"name":"延庆区","style":2},{"lnglat":[113.56925,22.136546],"name":"路凼填海区","style":2},{"lnglat":[117.195907,39.118327],"name":"和平区","style":2},{"lnglat":[117.226568,39.122125],"name":"河东区","style":2},{"lnglat":[117.217536,39.101897],"name":"河西区","style":2},{"lnglat":[117.164143,39.120474],"name":"南开区","style":2},{"lnglat":[117.201569,39.156632],"name":"河北区","style":2},{"lnglat":[117.163301,39.175066],"name":"红桥区","style":2},{"lnglat":[117.313967,39.087764],"name":"东丽区","style":2},{"lnglat":[117.012247,39.139446],"name":"西青区","style":2},{"lnglat":[117.382549,38.989577],"name":"津南区","style":2},{"lnglat":[117.13482,39.225555],"name":"北辰区","style":2},{"lnglat":[117.057959,39.376925],"name":"武清区","style":2},{"lnglat":[117.308094,39.716965],"name":"宝坻区","style":2},{"lnglat":[117.654173,39.032846],"name":"滨海新区","style":2},{"lnglat":[117.82828,39.328886],"name":"宁河区","style":2},{"lnglat":[116.925304,38.935671],"name":"静海区","style":2},{"lnglat":[117.407449,40.045342],"name":"蓟州区","style":2},{"lnglat":[113.558783,22.154124],"name":"嘉模堂区","style":2},{"lnglat":[114.548151,38.047501],"name":"长安区","style":2},{"lnglat":[114.462931,38.028383],"name":"桥西区","style":2},{"lnglat":[114.465974,38.067142],"name":"新华区","style":2},{"lnglat":[114.058178,38.069748],"name":"井陉矿区","style":2}]
    }
  },
  methods:{
    getPointData(data){
      console.log(data.event);
      console.log(data.pointData);
      if(data.pointData['cluster_count']){
        alert('当前聚合点共有'+data.pointData['cluster_count']+'个')
      }else{
        alert('自定义数据，点位置在：'+data.pointData.name)
      }
      
    }
  }
}
</script>
```
:::


## 静态属性

&#12288;&#12288;这里的静态属性用于地图初始化，不支持响应式。

|    属性名     |   类型   | 说明         |                   默认值                    | 可选值  |
| :--------: | :----: | ---------- | :--------------------------------------: | :--: |
|            |        |            |                                          |      |
|    icon    | String | 聚合坐标点的图标   | require('../public/static/imgs/point.png') |  --  |
| iconWidth  | Number | 单个坐标点显示的宽度 |                    22                    |  --  |
| iconHeight | Number | 单个坐标点显示的高度 |                    22                    |  --  |

## 动态属性

|  属性名   |      说明       |   类型    | 默认值  |       可选值       |
| :----: | :-----------: | :-----: | :--: | :-------------: |
| points | 用于展示热力图的坐标点数组 |  Array  |  --  |       --        |
|  show  |    该图层的显隐性    | Boolean | true | true \|\| false |

## 事件

|    事件名称     |  说明  |                 回调参数                 |
| :---------: | :--: | :----------------------------------: |
| point-click | 双击地图 | (pointObj: Object)（该对象包含点击事件以及坐标点数据） |
