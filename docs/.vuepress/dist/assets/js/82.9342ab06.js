(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{1241:function(t,e,r){"use strict";r.r(e),r.d(e,"getGeometryServiceURL",(function(){return s})),r.d(e,"projectGeometry",(function(){return u}));var n=r(504),o=r(344),i=r(413),a=r(945),c=r(819);async function s(t=null,e){var r,a;if(n.a.geometryServiceUrl)return n.a.geometryServiceUrl;if(!t)throw new o.a("internal:geometry-service-url-not-configured");let c;c="portal"in t?t.portal||i.a.getDefault():t,await c.load({signal:e});const s=null==(r=c.helperServices)||null==(a=r.geometry)?void 0:a.url;if(!s)throw new o.a("internal:geometry-service-url-not-configured");return s}async function u(t,e,r=null,n){const i=await s(r,n),u=new c.a;u.geometries=[t],u.outSpatialReference=e;const f=await Object(a.a)(i,u,{signal:n});if(f&&Array.isArray(f)&&1===f.length)return f[0];throw new o.a("internal:geometry-service-projection-failed")}},627:function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return o}));var n=r(351);function o(t){return{geometryType:Object(n.c)(t[0]),geometries:t.map(t=>t.toJSON())}}function i(t,e,r){const o=Object(n.b)(e);return t.map(t=>{const e=o.fromJSON(t);return e.spatialReference=r,e})}},819:function(t,e,r){"use strict";r.d(e,"a",(function(){return u}));var n=r(337),o=r(347),i=r(341),a=(r(342),r(336),r(340),r(338)),c=r(351);let s=class extends o.a{constructor(t){super(t),this.geometries=null,this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const t=this.geometries.map((function(t){return t.toJSON()})),e=this.geometries[0],r={};return r.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),r.inSR=e.spatialReference.wkid||JSON.stringify(e.spatialReference.toJSON()),r.geometries=JSON.stringify({geometryType:Object(c.c)(e),geometries:t}),this.transformation&&(r.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(r.transformForward=this.transformForward),r}};Object(n.a)([Object(i.b)()],s.prototype,"geometries",void 0),Object(n.a)([Object(i.b)({json:{read:{source:"outSR"}}})],s.prototype,"outSpatialReference",void 0),Object(n.a)([Object(i.b)()],s.prototype,"transformation",void 0),Object(n.a)([Object(i.b)()],s.prototype,"transformForward",void 0),s=Object(n.a)([Object(a.a)("esri.rest.support.ProjectParameters")],s);const u=s},945:function(t,e,r){"use strict";r.d(e,"a",(function(){return f}));var n=r(353),o=r(340),i=r(351),a=r(398),c=r(627),s=r(819);const u=Object(o.m)(s.a);async function f(t,e,r){e=u(e);const o=Object(a.c)(t),s={...o.query,f:"json",...e.toJSON()},f=e.outSpatialReference,l=Object(i.c)(e.geometries[0]),m=Object(a.a)(s,r);return Object(n.default)(o.path+"/project",m).then(({data:{geometries:t}})=>Object(c.a)(t,l,f))}}}]);